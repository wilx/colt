<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
    <title>MIF Doclet</title>
</head>

<body bgcolor="white">

<p align=right><font size="-1"><a href="http://java.sun.com/javadoc/mifdoclet/index.html">MIF Doclet Home Page</a></font></p>
             <h1 align=center>MIF Doclet</h1>


<blockquote>

<b>Disclaimer</b> - The MIF Doclet is <b>experimental</b> code
developed for internal use at Sun and released to the 
developer community for use as-is.  It is not a supported product.
Use at your own risk.  While we have worked to make it useful,
bugs might not be fixed and features might not be added.
It might not be updated, and might be re-released with a 
different implementation or GUI design that is incompatible 
with the current design.

<p>


<b>Contents</b>

<ul>
   <LI><a href="#whatis">What is the MIF Doclet</a>
   <UL>
      <LI><a href="#benefits">Benefits</a>
      <LI><a href="#features">Features</a>
      <LI><a href="#limitations">Limitations</a>
   </UL>
   <LI><a href="#syntax">MIF Doclet Syntax</a>
   <LI><a href="#options">MIF Doclet Options</a>
   <UL>
      <LI><a href="#help">Command-Line Help</a>
   </UL>
   <LI><a href="#runningMIF">Running the MIF Doclet</a>
   <UL>
      <LI><a href="#setup">Setup</a>
      <LI><a href="#running">Running</a>
      <LI><a href="#reviewingoutput">Reviewing Generated Output</a>
      <LI><a href="#errors">Error Messages when Running the MIF Doclet</a>
   </UL>
   <LI><a href="#titletocindex">Setting Up the Title Page, TOC and Index</a>
   <LI><a href="#creatingpdf">Creating PDF</a>
   <LI><a href="#htmlnotation">Doc Comment HTML Notation</a>
   <LI><a href="#template">Instructions for Using Your Own FrameMaker Templates</a>
   <UL>
      <LI><a href="#includefiles">The Include Files</a>
      <LI><a href="#creatingtemplates">Creating Templates</a>
      <LI><a href="#creatingincludefiles">Creating Include Files</a>
      <LI><a href="#structure">Generated MIF Structure</a>
      <LI><a href="#stylemap">StyleMap File</a>
   </UL>
   <LI><a href="#localizing">Localizing or Customizing Static Text (<code>mifdoclet.properties</code>)</a>
</ul>


<b>Testing Note</b> - The MIF Doclet has been tested with the 
Solaris version of FrameMaker 5.5.  If you test it 
with other FrameMaker versions and other operating 
systems and determine that it does or does not work,
please let us know so we can mention it.
</blockquote>

<a name="whatis"></a>
<h3>What is the MIF Doclet</h3>

<blockquote>

The MIF Doclet is an extension to Javadoc that generates 
API documentation in MIF (Maker Interchange Format) from declarations 
and doc comments in source code in the 
Java<sup><font size="-2">TM</font></sup> programming language. 
These MIF documents can then be opened in Adobe FrameMaker 
and optionally converted to PDF, PostScript, Microsoft RTF, 
Microsoft Word or WordPerfect.  
<p>

The MIF Doclet works only with version 1.2.2 or later of the Java 2 SDK,
Standard Edition.
<p>

FrameMaker batch processing programs can automate converting MIF 
files to other formats, such as FrameMaker native binary format, 
PostScript and PDF formats.  There are two such batch processing 
programs available:  <code>fmbatch</code> and <code>dzbatcher</code>.
<p>

The goal was to create a general, flexible MIF Doclet that can be
customized for your own FrameMaker styles.
It tries to replicate much of the content generated by the standard 
HTML doclet.  However, the page layout has been modified slightly
from the standard HTML doclet to reduce vertical space, for print 
documentation, where page count needs to be conserved.  To obtain
denser content, we put subheadings and data on the same line where
possible (rather than two lines), and eliminated repetition, by
removing the "first sentence" from the index.  We also added an 
option to allow removing the "first sentence" from the member summary.


<!-- ================================================================ -->

<a name="benefits"></a>
<h3>Benefits</h3>


The benefits of a MIF Doclet over the standard HTML doclet are:

<ul>
  <li><b>Easily printable API documents</b> - PostScript and PDF can be generated
      from MIF using FrameMaker.  With batch processors <code>fmbatch</code>
      or <code>dzbatcher</code>, 
      you can print an entire package or set of packages with a single command.
  <li><b>Easily publishable API books</b> - 
      The MIF Doclet can generate headers, footers, a table of contents and
      an index, with page numbering, for a complete book.  
      This makes it possible to nearly automate the publishing of API books.
  <li><b>Inclusion of API docs into documents written in FrameMaker</b> -
      MIF-generated API docs can be appended to FrameMaker documents
      to make a complete document for distribution.  This 
      tightly binds the API and non-API sections for easier download, review 
      and tracking.
  <li><b>Easy conversion to other formats</b> - Can convert to RTF, Word and
      WordPerfect from FrameMaker.
</ul>

The MIF Doclet has advantages over the tool <code>html2ps</code> in that 
the MIF Doclet can have custom formatting more suitable for printed
documentation, and can handle images and larger numbers of classes.  


<!-- ================================================================ -->

<a name="features"></a>
<h3>Features</h3>

The MIF Doclet includes these features:

<ul>
  <li>Generates a book file that contains a list of classes or packages.
      Has a <code>-split</code> option for listing them either 
      by class or package. (See the <a href="#limitation-split">limitation</a>.)
      For example, when generating the documentation for the <code>java.applet</code>
      and <code>java.lang</code> packages with "<code>-split package</code>", 
      the book file contains:
<blockquote>
          <code>titlepage.fm</code><br>
          <code>contents.fm</code><br>
          <code>java.applet.fm</code> &nbsp;&nbsp;&nbsp;&nbsp; (documents all classes in the <code>java.applet</code> package)<br>
          <code>java.lang.fm</code> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (documents all classes in the <code>java.lang</code> package)<br>
          <code>index.fm</code>
</blockquote>
      With "<code>-split class</code>", the book file contains:
<blockquote>
          <code>titlepage.fm</code><br>
          <code>contents.fm</code><br>
          <code>java.applet.fm</code><br>
          <code>java.lang.fm</code><br>
          <code>java.applet.Applet.fm</code><br>
          <code>java.applet.AppletContext.fm</code><br>
          <code>java.applet.AppletStub.fm</code><br>
          <code>java.applet.AudioClip.fm</code><br>
          <code>java.lang.Boolean.fm</code><br>
          <code>java.lang.Byte.fm</code><br>
          <code>java.lang.Character.fm</code><br>
          ...<br>
          <code>index.fm</code>
</blockquote>      
<p>
  <li>Generates a table of contents and index of the API with page numbers.  
      These include cross-references into the body of text, which convert to 
      links in PDF output.  (Oddly enough, in the contents, the links are 
      on the text and not the page numbers, while in the index, the reverse
      is true -- links are on the page numbers, not the text.)
      The MIF doclet can uses a batch processing program (<code>fmbatch</code>
      or <code>dzbatcher</code>) to convert the MIF files to FrameMaker 
      native binary files, and generate/update the page breaks and page numbers.
<p>
  <li>Converts GIF images embedded in &lt;IMG&gt; tags to FrameMaker format.
<p>
  <li>Has <code>-membersummary</code> option that generates, for each class, 
      either a full summary of members with signatures and first-sentence
      descriptions, a compact summary with signatures only, or no member summary.
<p>
  <li>Has <code>-noinheritedsummary</code> option that omits the inherited
      API from each class, for more compact output.
<p>
  <li>Enables you to include your own custom title page (<code>-titlefile</code>).
<p>
  <li>Allows users to provide their own FrameMaker template 
      <code>template.mif</code>, for generating pages in their own corporate 
      format. A style mapping properties file <code>stylemap.properties</code>
      enables the easy renaming of FrameMaker styles that the MIF Doclet 
      generates.

</ul>


<!-- ================================================================ -->

<a name="limitations"></a>
<h3>Limitations</h3>


Here are some known limitations of the MIF Doclet:

<a name="limitation-split"></a>
<UL>
  <LI>When generating one file per class, Javadoc is designed
      to place all classes for a given package into a package directory.
      However, Adobe Acrobat 3.0 cannot include properly include files
      from more than one directory.  Therefore, generating one file
      per class has a distinct disadvantage.  Because of this limitation,
      we plan to first concentrate on only the option of one file per package
      (controlled with the <code>-split</code> option).
      All package files can be included in a single directory, and a
      PDF file can be generated for each package, or for the set of packages.
<p>
<a name="limitation-laststyle"></a>
  <LI>The MIF Doclet operates on one paragraph at a time, and does not look ahead.
      Therefore, it currently cannot apply a unique style to the last paragraph
      in a series (unless it is in a table).  Therefore, it cannot apply
      extra space after the last bulleted or numbered paragraph in a series.
<p>
  <LI>By design choice, the MIF Doclet does not generate all the pages that 
      the standard HTML doclet generates:  it does not generate "package use" 
      pages, "class use" pages, "tree" pages, "deprecated API" pages or a 
      help page.
<p>
  <LI>HTML Limitations - Doc comments are written in HTML, not plain text.  
      The MIF Doclet must convert this HTML to MIF.  The current MIF Doclet
      uses a primitive HTML parser for this, which limits
      the HTML that can be converted to MIF.  See 
      <a href="#htmlnotation">Doc Comment HTML Notation</a> for more details.

</UL>

</blockquote>


<!-- ============================================ -->

<a name="syntax"></a>
<h3>MIF Doclet Syntax</h3>

<blockquote>

The syntax is basically the Javadoc syntax with the options listed below.  
You invoke it using the <code>-doclet</code> and <code>-docletpath</code> options.

<pre>
javadoc -doclet com.sun.tools.doclets.mif.MIFDoclet -docletpath &lt;path&gt; \
        [options] [packagenames] [sourcefiles] [classnames] [@files]
</pre>

NOTE - The MIF Doclet cannot handle <code>[classnames]</code> 
with both the <code>-split package</code> and <code>-bookfile</code> options. 

</blockquote>

<br>
<a name="options"></a>
<h3>MIF Doclet Options</h3>

<blockquote>

<pre>
Options provided by Javadoc:

  -overview &lt;file&gt;          Read overview documentation from HTML file
  -public                   Show only public classes and members
  -protected                Show protected/public classes and members (default)
  -package                  Show package/protected/public classes and members
  -private                  Show all classes and members
  -help                     Display command line options
  -doclet &lt;class&gt;           Generate output via alternate doclet     (Note 1)
  -docletpath &lt;path&gt;        Specify where to find doclet class files
  -1.1                      Generate output using Javadoc 1.1 emulating doclet
  -sourcepath &lt;pathlist&gt;    Specify where to find source files
  -classpath &lt;pathlist&gt;     Specify where to find user class files
  -bootclasspath &lt;pathlist&gt; Override location of class files loaded
                            by the bootstrap class loader
  -extdirs &lt;dirlist&gt;        Override location of installed extensions
  -verbose                  Output messages about what Javadoc is doing
  -locale &lt;name&gt;            Locale to be used, e.g. en_US or en_US_WIN
  -encoding &lt;name&gt;          Source file encoding name
  -J&lt;flag&gt;                  Pass &lt;flag&gt; directly to the runtime system

Options provided by the MIF Doclet:

  -d &lt;directory&gt;                    Destination directory for generated files
  -version                          Include @version paragraphs
  -author                           Include @author paragraphs
  -split package|class              Generate one file per package (default) or class
  -includedir &lt;path&gt;                Path where MIF include files are located    (Note 2)
  -textrectid &lt;int&gt;                 Flow text into TextRectID of number &lt;int&gt;
  -tftag &lt;text&gt;                     Flow text into TFTag of letter &lt;text&gt;
  -doctitle &lt;text&gt;                  Include title for the overview page         (Note 3)
  -link &lt;path&gt;                      Create links to excluded classes at &lt;path&gt;
  -bookfile &lt;file&gt;                  Create book file named &lt;file&gt;
  -titlefile &lt;.mif file&gt;            Title file to be included in the generated book file
  -contentsfile &lt;.mif file&gt;         Contents file to be included in the generated book file
  -indexfile &lt;.mif file&gt;            Index file to be included in the generated book file (Note 4)
  -stylemapfile &lt;file&gt;              File that maps internal styles to FM styles
  -batch fmbatch|dzbatcher          Create batch files, then generate and update FM docs (Note 5)
  -membersummary full|compact|none  Generate full, compact or no member summary
  -group &lt;name&gt; &lt;p1&gt;:&lt;p2&gt;...        Group packages together in overview  page
  -nodeprecated                     Do not include @deprecated information
  -noexecutebatch                   Do not execute the batch program                (Note 6)
  -noinheritedsummary               Do not generate inherited member summary info
</pre>

<b>Notes</b><br>
<b>1.</b> The <code>-doclet</code> option takes the argument <code>com.sun.tools.doclets.mif.MIFDoclet</code> for the MIF doclet.
<p>

<b>2.</b> The <code>-includedir</code> option points to the location of <code>styles.mif</code>,
<code>pages.mif</code>, and <code>textflows.mif</code>.
<p>

<b>3.</b> The <code>-doctitle</code> text argument is passed through without
any processing.  Therefore, it should not contain HTML tags. 
(This is in contrast to the standard HTML doclet, where the 
<code>-doctitle</code> can contain HTML tags.)
<p>

<b>4.</b> If no <code>-indexfile</code> is given, the file <code>index-all.mif</code>
is generated to hold the index.
<p>

<b>5.</b> If the batch program supplied with <code>-batch</code>
is not in the path, then you get an error like "File not found."
For more information about the batch arguments, see 
<a href="#batchprograms">Install the batch program</a> under Setup.
<p>

<b>6.</b> The <code>-noexecutebatch</code> option is useful when you want to
create the batch files (with <code>-batch</code>) but not execute them, 
in case you want to modify them before running them.

<a name="help"></a>
<h3>Command-Line Help</h3>
<p>
To display the command-line help specific to the MIF Doclet, as
shown above, execute javadoc with the <code>-doclet</code>, 
<code>-docletpath</code> and <code>-help</code> options.  For example:
<pre>
javadoc \
  -doclet com.sun.tools.doclets.mif.MIFDoclet \
  -docletpath /usr/local/mifdoclet_C/mif.jar:\
              /usr/local/mifdoclet_C/mifoutput.jar:\
              /usr/local/mifdoclet_C/standarddoclet.jar \
  -help
</pre>

</blockquote>

<!-- ============================================ -->
<br>
<a name="runningMIF"></a>
<h3>Running the MIF Doclet</h3>

<blockquote>

<a name="setup"></a>
<h3>Setup</h3>

<b>System Requirements</b>:  The MIF Doclet will run with v1.2, v1.2.1,
v1.2.2 or v1.3 Beta version of Java 2 SDK.  The MIF Doclet temporarily 
includes a jar file that contains necessary changes to the standard doclet,
enabling it to run on this wide range of versions.
<p>

Perform these steps before running the MIF Doclet:
<ol>

<p> 

<li><a href="http://developer.java.sun.com/developer/products/mifdoclet/"><b>Download 
and unbundle the MIF Doclet bundle</b></a>.  This bundle contains two 
Java archive files: <code>mif.jar</code> and <code>mifdoclet.jar</code>.  
You can place these wherever you want as long as the 
<code>-docletpath</code> option points to them.  In addition, 
<code>-docletpath</code> must also point to the <code>standarddoclet.jar</code>
file.  [NOTE: Eventually, once some internal changes to the standard doclet
have been integrated into the latest version of Javadoc, <code>-docletpath</code> 
will be able to point instead to <code>tools.jar</code> file that comes with 
Java 2 SDK v1.3, which contains the standard doclet.]
<p>

<a name="batchprograms"></a>
<li><b>Install the batch program</b> - Printing or conversion from MIF to any format 
requires either FrameMaker or a FrameMaker batch processing program.  If you want 
to have the MIF doclet do this automatically, you can include the
<code>-batch</code> option and supply either <code>fmbatch</code> 
or <code>dzbatcher</code>.  Be sure the program you use is located 
on your operating system's search path.  Here are some more details:
<p>

<ul type=disc>
  <li>The <code><b>fmbatch</b></code> program is from <a href="www.adobe.com">Adobe</a>.
      Ships with FrameMaker.  Available only on Solaris.

  <li>The <a href="http://www.miramo.com/dzbatcher"><code><b>dzbatcher</b></code></a> 
      program is from Miramo and does the same thing as <code>fmbatch</code>, but on
      more platforms.  It uses slightly different syntax for batch commands 
      (using more Windows-like terms: it uses <code>Close&nbsp;&lt;filename&gt;</code>  
      instead of <code>Quit&nbsp;&lt;filename&gt;</code>, and <code>Exit</code> instead
      of <code>Quit</code>).  Available on Windows NT and soon on Solaris.
</ul>
</ol>

<a name="running"></a>
<h3>Running</h3>

<blockquote>
    <b>NOTE</b> - For the list of known bugs, please see 
    <a href="CHANGES.html">Changes and Bugs in MIF Doclet</a>.
</blockquote>

The following example executes the MIF Doclet on a sample package 
(<code>java.applet</code>) on Solaris.  In addition to the above setup, 
it assumes the following:
<ul>
  <li><b>Javadoc version</b> - You are running version 1.2.2 (or later) of Javadoc.
      To check this, try:  <code>javadoc -J-version</code>
  <li><b>MIF doclet installed</b> - The MIF Doclet has been downloaded 
      and installed such that its files
      are in the directory <code>/usr/local/mifdoclet_C</code>.
  <li><b>Jar file location</b> - The jar files <code>mif.jar</code>,
      <code>mifdoclet.jar</code> and <code>standarddoclet.jar</code> [Eventually
      to be <code>tools.jar</code>.]
      are pointed to by the <code>-docletpath</code> option.
  <li><b>Include files</b> - The three "include" files <code>styles.mif</code>, 
      <code>pages.mif</code>, and <code>textflows.mif</code> are pointed to
      by the <code>-includedir</code> option.  You can use the default versions 
      of these three files that we supply, or <a href="#template">create your 
      own</a>.  The doclet will copy these files to the destination directory.
  <li><b>Source files</b> - The <code>*.java</code> source files to be 
      documented are pointed to by <code>-sourcepath</code> -- in this case,
      <code>/java/src/share/classes</code>
  <li><b>Overview file</b> - The overview file is pointed to by 
      <code>-overview</code> -- in this case, it is at
      <code>/java/src/share/classes/overview.html</code>
  <li><b>Destination directory</b> - The destination directory exists and can be
      empty -- in this case, it is named <code>docs</code> and is a subdirectory 
      of the current directory.  The doclet will copy the <!--include files and--> 
      front/back matter files there for you.  [We plan for the next version to
      also copy the include files there.]
  <li><b>Front/back matter files</b> - The title, contents and index FrameMaker
      template files are pointed to by <code>-titlefile</code>, 
      <code>-contentsfile</code> and <code>-indexfile</code>, respectively.
      <b>Important</b> - Do not place these files in the destination directory,
      or the batch processor will overwrite them to zero length.  The doclet will 
      copy them to the destination directory for you.
  <li><b>Documented package</b> - This example documents the 
      <code>java.applet</code> package
</ul>

<pre>
javadoc \
  -doclet com.sun.tools.doclets.mif.MIFDoclet \
  -docletpath /usr/local/mifdoclet_C/mif.jar:\
              /usr/local/mifdoclet_C/mifoutput.jar:\
              /usr/local/mifdoclet_C/standarddoclet.jar \  
<!--          /usr/local/jdk1.2.2/lib/tools.jar \ -->
  -sourcepath /java/src/share/classes \
  -includedir /usr/local/mifdoclet_C \
  -overview /java/src/share/classes/overview.html \
  -doctitle "Java Packages" \
  -group "Core Packages" "java.*" \ 
  -membersummary compact \
  -bookfile java.applet.book \
  -batch fmbatch \
  -titlefile /usr/local/mifdoclet_C/titlepage.mif \
  -contentsfile /usr/local/mifdoclet_C/contents.mif \
  -indexfile /usr/local/mifdoclet_C/index.mif \
  -d docs \
  java.applet
</pre>

If using your own MIF include files, also use <code>-textrectid</code> 
and <code>-tftag</code>.
<p>

<br>
<a name="reviewingoutput"></a>
<h3>Reviewing Generated Output</h3>

<b>IMPORTANT</b> - After generating the documents, you should open them 
in FrameMaker and scan through them visually, looking particularly 
for two things:

<ul>
  <li>If you have used the title page <code>titlepage.mif</code> included
      with the bundle, change the copyright notice on page 2 for your own 
      company.
  <li>Inspect for HTML tags in the doc comments that might not have 
      been properly converted to MIF.  The MIF Doclet has a very primitive 
      HTML parser for this job.  It does not convert HTML tables to MIF, 
      for instance, nor does it convert nested HTML lists.  See 
      <a href="#htmlnotation">Doc Comment HTML Notation</a>.
</ul>

<b>Troubleshooting Generated Output</b><BR>
<p>

<b>Q.</b> The characters `\\x0d` appear in the generated document.  How do I 
eliminate this?
<p>

<b>A.</b> This is often a cross-platform issue.  If a file, such as 
<code>package.html</code> is created on Windows and then the MIF Doclet
is run on Solaris, the newline characters appear as `\\x0d`.  The current
solution is for you to convert the newline characters in the source file to 
those recognized by the platform that the MIF Doclet is run on.
<p>

More technically, the `\\x0d` would be due to a character that exceeds 
0x7F in the source file that is not being converted.  When the MIF doclet
translates text characters from the doc comment to FrameMaker text, it 
translates the characters into the FrameMaker character formats. 
So special characters like '\t', '>', '`', '\', '\\' are translated 
into '\\t', '\\>', '\\Q', '\\q', '\\\\' respectively.  Also, if any 
character value exceeds 0x7F, then it is converted as 
"\\x" + Integer.toString(c, 16) + " " 
So, the string "\\x0d" is getting added because of some character in
the source file. 


<!-- ============================================ -->
<br>
<a name="errors"></a>
<h3>Error Messages when Running the MIF Doclet</h3>


When running the MIF Doclet, here is a cryptic error message
that can occur:

<pre>
  Executing fmbatch utility on: docs/xxx.book-mif-to-fm.batch
  starting maker ...
  Frame reports error 3 "Error ???"
</pre>

This happens when <code>fmbatch</code> tries to execute a statement like
"<code>Open&nbsp;docs/java.applet.book.mif</code>" when that file is
already open.  This commonly occurs when someone runs the MIF Doclet,
opens up the book file to inspect the files, then runs it again without 
first closing the book file.  To remedy this, close the book file and 
try again. 

<p>

</blockquote>

<!-- ============================================ -->
<br>
<a name="titletocindex"></a>
<h3>Setting Up the Title Page, TOC and Index</h3>

<blockquote>

Included with the MIF Doclet bundle are the following sample files:

<ul>
  <li><code>titlepage.mif</code> - title page that includes a copyright notice on page 2
  <li><code>contents.mif</code> - table of contents (TOC)
  <li><code>index.mif</code> - index 
</ul>

The MIF Doclet adds these three files to the book when you use the 
<code>-titlefile</code>, <code>-contentsfile</code> and 
<code>-indexfile</code> options along with the <code>-bookfile</code> 
option. When doing so, it sets them up as follows:

<ul>
   <li>For title page, it simply copies the file you supply
       without modifying or adding to it.

   <li>For table of contents, it copies the file you supply and
       adds to it paragraphs tagged:
     <dl>
       <dd><code>OverviewHead</code>
       <dd><code>PackageHead</code>
       <dd><code>ClassHead</code>
       <dd><code>IndexHead</code>
     </dl>


   <li>For index, it copies the file you supply and adds to it
       text from markers of type:
     <dl>
       <dd><code>Index</code>
     </dl>
       If you omit the index filename, it creates a file named 
       <code>index-all.mif</code>.
</ul>
<p>

If you use the <code>-batch</code> option (with <code>fmbatch</code> or 
<code>dzbatcher</code>), the MIF Doclet converts the MIF files to
FrameMaker native binary files, and runs "Generate/Update" on the 
book file to update the entries and page numbers in the TOC and index.
<p>

If you want to use your own template in place of these three files, you 
can adapt it for use with the MIF Doclet.  One easy way is as follows, 
using the TOC as an example:
 
<ol>
 <li> Start with your TOC template.  It can be named whatever you want --
    let's call it <code>contents2.mif</code>.
 <li> Import the paragraph styles from <code>contents.mif</code> into 
    <code>contents2.mif</code>.  Make sure this file contains no generated
    text (no table of contents entries), except perhaps a title, such as
    "Contents", and headings and footers.
 <li> Run the MIF doclet with the <code>-contentsfile</code> option: 
    <code>-contentsfile contents2.mif</code>.
</ol>
Running the MIF doclet this way (along with the <code>-batch</code> option) 
will generate the table of contents with the MIF paragraph styles
but with the page layout (page size, margin size, headers, footers) 
from your template.  You can redefine the paragraph styles as you wish.
<p>

Alternatively, you can rename the styles in your
template to those used by the MIF doclet, or, rename the styles the
MIF doclet generates to those that your template uses.  This latter
technique takes place in the 
<a href="#stylemap"><code>stylemap.properties</code></a> file.

</blockquote>

<!-- ============================================ -->
<br>
<a name="creatingpdf"></a>
<h3>Creating PDF</h3>

<blockquote>
To manually create a PDF version of your document, open the document or book
file, as you desire, in FrameMaker and choose the PDF option from the 
Print dialog box.  (The MIF doclet is not yet set up for batch printing
to PDF due to a bug we have been encountering.)
<p>

The MIF Doclet automatically sets up the left-hand TOC list
for Acrobat with indentation as follows:

<pre>
   BookTitle
   TOCHead
   OverviewHead
   PackageHead
      ClassHead
   IndexHead
</pre>

(The list actually appears in alphabetic order in Acrobat Setup.)
You can modify this list as you see fit, according to the Acrobat Setup
procedure described later under 
<a href="#creatingtemplates">Creating Templates</a>.

</blockquote>

<!-- ============================================ -->

<a name="htmlnotation"></a>
<h3>Doc Comment HTML Notation</h3>

<blockquote>
As is well-documented, doc comments are written in HTML.  The current MIF Doclet
can parse and convert only simple HTML into MIF.  The following lists describe
which tags are handled by the MIF Doclet.

<UL>
  <LI> The MIF Doclet doesn't handle:

<pre>
Tables              &lt;TABLE&gt; &lt;TH&gt; &lt;TD&gt; &lt;TR&gt;
Fonts               &lt;FONT&gt;
</pre>

<LI>MIF Doclet does handle:

<pre>
&lt;                   ("less than" character)
&gt;                   ("greater than" character)
&amp;                   ("ampersand" character)
"                   ("double-quote" character)

&lt;UL&gt; &lt;OL&gt; &lt;LI&gt;      (lists, though not nested lists)
&lt;BLOCKQUOTE&gt;        (Blockquote style)
&lt;P&gt;                 (new paragraph)
&lt;TT&gt;                (Code)
&lt;CITE&gt;              (Italic)
&lt;EM&gt;                (Italic)
&lt;I&gt;                 (Italic)
&lt;B&gt;                 (Bold)
&lt;STRONG&gt;            (Bold)
&lt;CODE&gt;              (Code)
&lt;SUP&gt;               (Superscript)
&lt;SUB&gt;               (Subscript)
&lt;B&gt;&lt;CODE&gt;           (BoldCode)
&lt;CODE&gt;&lt;B&gt;           (BoldCode)
&lt;B&gt;&lt;I&gt;              (BoldItalic)
&lt;I&gt;&lt;B&gt;              (BoldItalic)
&lt;B&gt;&lt;SUP&gt;            (BoldSuperscript)
&lt;SUP&gt;&lt;B&gt;            (BoldSuperscript)
&lt;B&gt;&lt;SUB&gt;            (BoldSubscript)
&lt;SUB&gt;&lt;B&gt;            (BoldSubscript)
&lt;PRE&gt;               (CodeFragment)
&lt;A&gt;                 (passes through untouched)

&amp;nbsp;              (non-breaking space)
&amp;reg;               (registered trademark)
&amp;copy;              (copyright)
</pre>

</UL>

</blockquote>

<!-- ============================================ -->
<br>
<a name="template"></a>
<h3>Instructions for Using Your Own FrameMaker Templates</h3>

<blockquote>

You can use your own FrameMaker templates instead of the ones that Sun provides.  
Your FrameMaker templates can include your own custom styles, master pages and
so forth.  Using your own title page, table of contents and index is relatively
simple, and is described above at <a href="#titletocindex">Setting Up the Title 
Page, TOC and Index</a>.  To provide your own formatting and page layout for
all the pages between the table of contents and index -- that is, the overview, 
package and class pages -- follow these three basic steps: 

<ol>
  <li><a href="#creatingtemplates">Creating templates</a>
  <li><a href="#creatingincludefiles">Creating three MIF "include" files from your template</a>
  <li><a href="#stylemap">Modifying the <code>stylemap.properties</code> file</a>
</ol>

These step are covered in the following sections, after "include"
files are described.


<a name="includefiles"></a>
<h3>The Include Files</h3>

When running the MIF Doclet, you must place three "include" files
in the destination directory.  You can use the ones provided 
with the MIF Doclet, for the default styles and page layouts,
or create your own "include" files instead, if you want to 
use your own custom templates.
<p>

When you place these three files in the same directory as the 
generated MIF documents, the process of opening the generated files 
in FrameMaker (or in <code>fmbatch</code>) causes these three files to 
be merged into the document, producing the layout and formatting
you want.  (Each generated MIF file contains three corresponding 
<code>&lt;include&gt;</code> MIF commands.)  
<p>
The three include files for the normal body pages are:
<ul>
  <li><b><code>styles.mif</code></b> - Contains the definitions for
          paragraph styles, character (font) styles, colors, conditional text,
          tables, variables, cross-references, and so forth.
  <li><b><code>pages.mif</code></b> - Contains the master and reference pages.
  <li><b><code>textflows.mif</code></b> - Contains the text flow regions,
          which contain <code>&lt;TextRect&gt;</code> regions. 
          The actual text content is appended as the last text flow in 
          the document, after the included <code>textflows.mif</code>.
</ul>


The following figure illustrates how a complete MIF file is structured.
It delineates which parts of your template will be extracted for the
three include files.
<p>

<table border=1 cellpadding=10 cellspacing=0 width=80%><tr><td>

<pre>
&lt;MIFFile&gt;

########################################
                                       #
Control Statements                     #
                                       #
Macro Statements                       #
                                       #
&lt;ColorCatalog&gt;                         #
&lt;ConditionCatalog&gt;                     #
&lt;PgfCatalog&gt;                           #
&lt;FontCatalog&gt;                          # styles.mif
&lt;RulingCatalog&gt;                        #
&lt;TblCatalog&gt;                           #
&lt;Views&gt;                                #
&lt;VariableFormats&gt;                      #
&lt;XRefFormats&gt;                          #
&lt;Document&gt;                             #
&lt;BookComponent&gt;                        #
&lt;InitialAutoNums&gt;                      #
                                       #
########################################

&lt;Dictionary&gt;
&lt;Aframes&gt;
&lt;Tbls&gt;

########################################
                                       #
&lt;Page&gt;                                 #
&lt;Page&gt;                                 # pages.mif
&lt;Page&gt;                                 #
                                       #
########################################

########################################
                                       #
&lt;TextFlow&gt;                             #
&lt;TextFlow&gt;                             # textflows.mif
&lt;TextFlow&gt;                             #
                                       #
########################################

&lt;TextFlow&gt; (last text flow, to delete)</pre>

</td></tr></table>
<p>

<a name="creatingtemplates"></a>
<h3>Creating Templates</h3>

If you prefer to alter the appearance of the MIF doclet's default format 
and layout, the first step is to create your own FrameMaker templates.  
You can have three different templates -- one each for the table of contents,
the body pages, and the index.  For each template, take any FrameMaker file 
you want and modify it as you desire.  You can modify:
<UL>
  <LI>Paragraph styles

  <LI>Character styles

  <LI>Master pages (page layouts)

  <LI>Reference pages

  <LI>Table formats

  <LI>Variable definitions

  <LI>Cross-reference formats

  <LI>Acrobat setup
</UL>

The Acrobat Setup determines which headings appear in the 
left-hand table of contents in a PDF file.  To set these headings,
in the FrameMaker template, go to Format menu, Document submenu,
and choose Acrobat Setup.  Move the headings you want to the left-hand
list.  (You can also set the Acrobat Setup in the Print dialog box.)
<P>

The MIF Doclet does not currently support conditional text.
The MIF doclet might support other formats we have not tested, such 
as document properties and color definitions.  
<p>

Apply to the first page of the template the master page you want 
to be the default.  For example, for the table of contents, we chose 
"TOC/Index Opener" master page for the first page.

<a name="creatingincludefiles"></a>
<h3>Creating Include Files</h3>

This procedure creates the include files (styles.mif, pages.mif, 
and textflows.mif) necessary for running the MIF Doclet using your own
FrameMaker template.  Run through the procedure once to generate
a set of three include files.
This job is easier if the template is relatively empty
of text (that is, there is less text to search through).

<OL>
 <LI>As described in the previous section, in FrameMaker, create the 
     template as you desire.  Save a MIF version of this file.

 <LI>In a text editor, open the MIF version created in step 1.
     The remaining steps describe how to extract the three necessary
     files from this file.

 <LI>Search for the first <code>&lt;PageType BodyPage&gt;</code> and locate 
     the following <code>&lt;TextRect&gt;</code> statement. Write down 
     the <code>&lt;ID&gt;</code> number for this <code>&lt;TextRect&gt;</code> 
     for later use.  (If there is more than one
     <code>&lt;TextRect&gt;</code> on this, write down the ID of the 
     first one.)

 <LI>Locate the <code>&lt;TextFlow&gt;</code> associated with the 
     <code>&lt;TextRect&gt;</code> statement from the previous step
     by searching for "<code>TextRectID </code><i>xx</i>" where "<i>xx</i>" 
     is the ID number from the previous step.  Write down the 
     <code>&lt;TFTag&gt;</code> name of this <code>&lt;TextFlow&gt;</code>.
     Then delete this entire <code>&lt;TextFlow&gt;</code>, which ends at 
     the closest following comment "<code>end of TextFlow</code>".
     (This should be the last <code>&lt;TextFlow&gt;</code> in the file.)

 <LI>Delete all the <code>&lt;Unique </code><i>num</i><code>&gt;</code>
     statements from the file. 

 <LI>Delete <code>&lt;Dictionary&gt;</code>, <code>&lt;AFrames&gt;</code>, 
     and <code>&lt;Tbls&gt;</code> sections entirely (since they are specific 
     to the original content).

 <LI>Search for "<code>&lt;PageNum</code>" (no trailing angle bracket)
     and delete all the <code>&lt;Page&gt;</code> sections containing
     a <code>&lt;PageNum&gt;</code> tag except for the page containing both
     <code>&lt;PageNum `1'&gt;</code> and <code>&lt;PageType BodyPage&gt;</code>.
     If there is no such page, renumber the first <code>&lt;PageNum&gt;</code>
     to <code>1</code> and keep that page.

 <LI>Search for <code>TRNext</code>.  For each one with a non-zero value,
     make sure an <code>&lt;ID&gt;</code> tag exists somewhere in the file 
     with the same ID number.  If such an ID tag does not exist, change 
     the <code>TRNext</code> value to zero, as in <code>&lt;TRNext 0&gt;</code>.

 <LI>Create a new file called <code>styles.mif</code> and copy into it 
     all the content starting from the second line (just below
     <code>&lt;MIFFile&gt;</code>) down to but not including the 
     first <code>&lt;Page&gt;</code> tag.  

 <LI>Copy all <code>&lt;Page&gt;</code> definitions to a new file
     <code>pages.mif</code>.

 <LI>Copy all <code>&lt;TextFlow&gt;</code> definitions to a new file
     <code>textflows.mif</code>.

 <li>Move all three files to the MIF Doclet's destination directory (specified 
     by the <code>-d</code> option).
</OL>

At this point, the three MIF include files are created.  To use these files, 
you must include the <code>-textrectid</code> and <code>-tftag</code> 
options with the corresponding values written down in the previous steps.
<p>

<a name="structure"></a>
<h3>Generated MIF Structure</h3>

The MIF Doclet generates MIF files that have the structure shown
in the following box.  The generated <code>&lt;TextFlow&gt;</code> 
uses the <code>TextRectID</code> number and <code>TFTag</code> name 
passed in from the respective <code>-textrectid</code> and 
<code>-tftag</code> options.
<p>

<table border=1 cellpadding=10 cellspacing=0 width=80%><tr><td>
<pre>
&lt;MIFFile 5.50&gt;
include (styles.mif)
### Dictionary, AFrames, Tbls generated from your application follow ###
&lt;Dictionary
...
&gt;
&lt;Aframes 
 &lt;Frame 
 ...
&gt;
&lt;Tbls
 &lt;Tbl
 ...
 &gt;
&gt;
###
include (pages.mif)
include (textflows.mif)
### TextFlow generated from your application follows ###
&lt;TextFlow
 ...
&gt;
</pre>
</td></tr></table>
<p>


<!-- ============================================ -->
<br>
<a name="stylemap"></a>
<h3>StyleMap File</h3>

<blockquote>
<b>NOTE</b> - The MIF Doclet contains a built-in copy of the default 
<code>stylemap.properties</code> file.  You don't need
this file if you are using the default, unchanged MIF Doclet. 
You need this file only if you are going to modify it, 
providing different names or mappings of FrameMaker styles.
</blockquote>
<p>

The MIF Doclet provides a great deal of flexibility in allowing you to
name your own FrameMaker styles by allowing you to assign the actual 
FrameMaker style names it generates.  It does this with a stylemap file.
<p>

The <a href="stylemap.properties">stylemap file</a> 
maps internal MIF Doclet style names to FrameMaker style names. 
You can modify this file to customize the MIF Doclet to use a set 
of FrameMaker styles from a template your company has already designed.
<p>

In the default stylemap, we have tried to maximize the 
number of internal styles (for maximum flexibility) and 
yet map those to the minimum number of FrameMaker styles
(for simplicity).
The initial mapping is about 130 MIF Doclet styles to 61 FrameMaker styles.  
You can increase the number of Framemaker styles for more refined formatting.
You can also modify the entries in the stylemap file to translate the style names.
<p>

The MIF Doclet has the default <code>stylemap.properties</code> file built-in.
You can copy the <code>stylemap.properties</code> file, 
then modify the FrameMaker styles names in the right column to those
of your choosing.  You then load it when you run javadoc
using the <code>-stylemapfile</code> option with the filename
as its argument.  If you named the file 
<code>stylemap1.properties</code>, you would use the option:

<blockquote>
 <code>-stylemapfile </code><i>path</i><code>/stylemap1.properties</code>
</blockquote>

where <i>path</i> is the absolute or relative path to the file.  (As with any 
path, follow it with a forward slash '/' on Solaris or a backward slash '\' 
on Windows.)  
<p>

When editing the stylemap file, you should not modify
the left-hand column.  The hash character '#' indicates 
the rest of the line is a comment.  This comment is optional, 
and you may omit it.  If you want to map to a FrameMaker file that
contains a space character, enclose the name in quotes, such as:
<pre>
PackageHead            "Package Head"        # Name of package, left aligned
</pre>


</blockquote>

<!-- ============================================ -->
<br>
<a name="localizing"></a>
<h3>Localizing or Customizing Static Text<br>
(<code>mifdoclet.properties</code>)</h3>

<blockquote>
Some text that is displayed in the generated files does not come
from the source files, but instead comes from the MIF doclet.
For example, the word "Overview" on the Overview page.
Such text resides in the <code>mifdoclet.properties</code>
file.  This file resides in <code>mifdoclet.jar</code>.
To modify the properties file, unjar <code>mifdoclet.jar</code>, 
modify the text (as described below) and then jar the file back up.
<p>

This properties file is very similar to the properties file for
the standard doclet.  Each entry in this file contains a variable name, 
an equal sign (=), followed by its value.  The word "Overview" appears 
as follows:

<PRE>
mifdoclet.Overview=Overview
</PRE>

You may change the word on the right of the equal sign as you desire.  For
example, if you prefer to use the term "Package Set" instead of overview,
you could alter it to:

<PRE>
mifdoclet.Overview=Package Set
</PRE>


<!-- In order for the MIF doclet to make use of this change,  you must... -->
</blockquote>

<!-- =================================================== -->
<hr>
<font size="-1">
<a href="mailto:javadoc-tool@sun.com">javadoc-tool@sun.com</a>
<br>
<!-- Created: Tue Apr 27 15:32:29 PDT 1999 -->
<!-- hhmts start -->
Last modified: Wed Sep  1 18:13:01 PDT 1999
<!-- hhmts end -->
</font>

<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>

</body>
</html>
